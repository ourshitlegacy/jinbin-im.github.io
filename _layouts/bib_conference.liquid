<style>
.author-me {
  color: #7b27d8 !important;
  font-weight: 700 !important;
  font-style: normal !important;
  text-decoration: none !important;
}

.conf-location {
  display: inline-block;
  background: #7b27d8;
  color: white;
  padding: 4px 12px;
  border-radius: 15px;
  font-size: 0.85rem;
  font-weight: 500;
  margin-left: 10px;
}

/* Abstract/Bibtex ÌÜ†Í∏Ä */
.abstract.hidden,
.bibtex.hidden {
  display: none;
}

.abstract,
.bibtex {
  margin-top: 1rem;
  padding: 1rem;
  background: #f8f9fa;
  border-left: 3px solid #7b27d8;
  border-radius: 4px;
}

/* Ï†úÎ™© ÎßÅÌÅ¨ */
.conf-title a {
  color: inherit;
  text-decoration: none;
}

.conf-title a:hover {
  color: #7b27d8;
}
</style>

<div class="conf-item mb-4 pb-3">
  {%- assign conf_loc  = entry.location | default: entry.address -%}

  <!-- Ï†úÎ™© with ÎßÅÌÅ¨ (ÏÉÅÎã®ÏúºÎ°ú Ïù¥Îèô) -->
  <div class="conf-title h5 mb-2">
    {% if entry.doi %}
      <a href="https://doi.org/{{ entry.doi }}" target="_blank">{{ entry.title }}</a>
    {% elsif entry.url %}
      <a href="{{ entry.url }}" target="_blank">{{ entry.title }}</a>
    {% else %}
      {{ entry.title }}
    {% endif %}
    {% if conf_loc %}
      <span class="conf-location">üìç {{ conf_loc }}</span>
    {% endif %}
  </div>

  <!-- Ï†ÄÏûê -->
  <div class="conf-authors mb-2">
    {% assign author_array_size = entry.author_array | size %}
    {% for author in entry.author_array %}
      {%- assign author_is_self = false -%}
      {%- assign author_last_name = author.last | remove: "¬∂" | remove: "&" | remove: "*" | remove: "‚Ä†" | remove: "^" -%}
      
      {%- if site.scholar.last_name contains author_last_name -%}
        {%- if site.scholar.first_name contains author.first -%}
          {%- assign author_is_self = true -%}
        {%- endif -%}
      {%- endif -%}

      {%- assign coauthor_url = nil -%}
      {%- assign clean_last_name = author_last_name | downcase | remove: "." -%}
      {% if site.data.coauthors[clean_last_name] %}
        {% for coauthor in site.data.coauthors[clean_last_name] %}
          {% if coauthor.firstname contains author.first %}
            {% if coauthor.scholar_id %}
              {% assign coauthor_url = "https://scholar.google.com/citations?user=" | append: coauthor.scholar_id %}
            {% elsif coauthor.url %}
              {% assign coauthor_url = coauthor.url %}
            {% endif %}
            {% break %}
          {% endif %}
        {% endfor %}
      {% endif %}

      {% if author_is_self %}
        <span class="author-me">{{ author.first }} {{ author.last }}</span>
      {% else %}
        {% if coauthor_url %}
          <a href="{{ coauthor_url }}">{{ author.first }} {{ author.last }}</a>
        {% else %}
          {{ author.first }} {{ author.last }}
        {% endif %}
      {% endif %}

      {%- if forloop.last == false -%}
        {%- if forloop.index == author_array_size | minus: 1 -%}
          , and&nbsp;
        {%- else -%}
          ,&nbsp;
        {%- endif -%}
      {%- endif -%}
    {% endfor %}
  </div>

  <!-- Î≤ÑÌäºÎì§ -->
  <div class="links">
    {% if entry.abstract %}
      <a class="abstract-btn btn btn-sm z-depth-0" role="button">Abs</a>
    {% endif %}
    {% if entry.url and entry.doi == nil %}
      <a href="{{ entry.url }}" class="btn btn-sm z-depth-0" role="button" target="_blank">URL</a>
    {% endif %}
    {%- if entry.arxiv %}
      <a href="http://arxiv.org/abs/{{ entry.arxiv }}" class="btn btn-sm z-depth-0" role="button" target="_blank">arXiv</a>
    {%- endif %}
    {%- if entry.bibtex_show %}
      <a class="bibtex-btn btn btn-sm z-depth-0" role="button">Bib</a>
    {%- endif %}
    {%- if entry.pdf %}
      {% if entry.pdf contains '://' %}
        <a href="{{ entry.pdf }}" class="btn btn-sm z-depth-0" role="button" target="_blank">PDF</a>
      {% else %}
        <a href="{{ entry.pdf | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0" role="button" target="_blank">PDF</a>
      {% endif %}
    {%- endif %}
  </div>

  <!-- Ïà®ÍπÄ ÏòÅÏó≠: Ï¥àÎ°ù -->
  {% if entry.abstract %}
    <div class="abstract hidden">
      <p>{{ entry.abstract }}</p>
    </div>
  {% endif %}

  <!-- Ïà®ÍπÄ ÏòÅÏó≠: BibTeX -->
  {% if entry.bibtex_show %}
    <div class="bibtex hidden">
      {% highlight bibtex %}{{ entry.bibtex }}{% endhighlight %}
    </div>
  {% endif %}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Abstract toggle
  document.querySelectorAll('.abstract-btn').forEach(function(btn) {
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      var confItem = this.closest('.conf-item');
      var abstractDiv = confItem.querySelector('.abstract');
      if (abstractDiv) {
        abstractDiv.classList.toggle('hidden');
      }
    });
  });

  // Bibtex toggle
  document.querySelectorAll('.bibtex-btn').forEach(function(btn) {
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      var confItem = this.closest('.conf-item');
      var bibtexDiv = confItem.querySelector('.bibtex');
      if (bibtexDiv) {
        bibtexDiv.classList.toggle('hidden');
      }
    });
  });
});
</script>
